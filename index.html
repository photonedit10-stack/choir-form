<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸµ æ‰€æœ›è©©ç­-äº‹å¥‰ç”³è«‹è¡¨ ğŸµ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        /* å…¨åŸŸæ¨£å¼è¨­å®š */
        body { 
            font-family: 'Noto Sans TC', 'å¾®è»Ÿæ­£é»‘é«”', Arial, sans-serif; 
            padding: 15px; 
            background-color: #f0f4f8; 
            color: #333;
        }
        .container { 
            max-width: 900px; 
            margin: auto; 
            background: #ffffff; 
            padding: 25px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); 
        }

        /* æ¨™é¡Œæ¨£å¼ */
        h1 { text-align: center; color: #3f51b5; font-weight: 700; margin-bottom: 5px; font-size: 1.5rem; }
        h2 { color: #673ab7; border-left: 5px solid #673ab7; padding-left: 15px; margin-top: 25px; font-weight: 500; font-size: 1.2rem; }

        /* è¡¨å–®å€å¡Šèˆ‡è¼¸å…¥æ¡† */
        .form-section { padding: 15px 0; border-bottom: 1px dashed #ddd; }
        label { display: block; margin-bottom: 8px; font-weight: 500; color: #555; }
        input[type="text"], input[type="email"], input[type="tel"] { 
            width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; 
        }

        /* é¸é …ç¾¤çµ„æ¨£å¼ */
        .checkbox-group, .radio-group { padding: 10px 0; }
        .checkbox-group label, .radio-group label { display: inline-block; margin-right: 20px; font-weight: normal; cursor: pointer; margin-bottom: 10px; }
        
        /* ç¶“æ–‡å€å¡Šæ¨£å¼ï¼šç§»é™¤å·¦å´è—è‰²ç›´æ§“ */
        blockquote {
            margin: 15px 0 20px;
            padding: 15px 20px;
            background-color: #f5f5f5; 
            font-style: italic;
            border-radius: 8px;
            border-left: none; /* ç§»é™¤è—è‰²æ§“æ§“ */
        }

        /* æ‰¿è«¾è‡ªç™½å€å¡Šæ¨£å¼ */
        .commitment-section {
            background-color: #e8f5e9; 
            border: 1px solid #a5d6a7;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        /* ä¿®æ­£è‡ªå‹•ç·¨è™Ÿï¼šä½¿ç”¨ CSS è¨ˆæ•¸å™¨ */
        .commitment-section ol { list-style-type: none; padding-left: 0; counter-reset: item; }
        .commitment-section ol li { margin-bottom: 12px; padding-left: 1.5em; text-indent: -1.5em; line-height: 1.6; }
        .commitment-section ol li:before { content: counter(item) ". "; counter-increment: item; font-weight: bold; color: #388e3c; }

        /* æ‰‹æ©Ÿç°½åæ¬„ä½å„ªåŒ–ï¼šå¯¬åº¦è¨­ç‚º 100% */
        .signature-area {
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px dashed #bbb;
            text-align: left;
        }
        .signature-area label { color: #c62828; font-weight: bold; }
        .signature-area input {
            width: 100%;
            display: block; 
            margin-top: 10px;
            border: 2px solid #3f51b5; 
            border-radius: 8px;
            padding: 12px;
            font-size: 1.2rem;
            background-color: #fff;
            box-sizing: border-box;
        }

        /* æŒ‰éˆ•èˆ‡æäº¤è¨Šæ¯ */
        .button-group { text-align: center; margin-top: 30px; }
        .submit-btn { 
            background-color: #009688; color: white; padding: 15px 40px; border: none; border-radius: 50px; 
            cursor: pointer; font-size: 1.1rem; font-weight: 500; width: 100%; max-width: 300px;
        }
        #form-message { margin-top: 20px; padding: 15px; border-radius: 8px; display: none; text-align: center; }
        .success { background-color: #e8f5e9; color: #388e3c; border: 1px solid #a5d6a7; }
        .error { background-color: #ffebee; color: #d32f2f; border: 1px solid #ef9a9a; }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸµ æ‰€æœ›è©©ç­-äº‹å¥‰ç”³è«‹è¡¨</h1>
    <p style="text-align: center; font-size: 0.9rem; color: #666;">å¡«å¯«è³‡æ–™å¾Œé»æ“Šæäº¤å³å¯å®Œæˆç”³è«‹</p>

    <form id="choir-application-form">
        <h2>ä¸€ã€ å€‹äººåŸºæœ¬è³‡æ–™</h2>
        <div class="form-section">
            <label for="name">å§“å <span style="color:red">*</span></label>
            <input type="text" id="name" name="å§“å" required>
            <div class="radio-group">
                <label>æ€§åˆ¥ <span style="color:red">*</span></label>
                <input type="radio" name="æ€§åˆ¥" value="ç”·" id="gender_m" required><label for="gender_m"> ç”·</label>
                <input type="radio" name="æ€§åˆ¥" value="å¥³" id="gender_f"><label for="gender_f"> å¥³</label>
            </div>
            <label for="applicationDate">ç”³è«‹æ—¥æœŸ</label>
            <input type="text" id="applicationDate" name="ç”³è«‹æ—¥æœŸ" readonly>
        </div>

        <h2>äºŒã€ äº‹å¥‰æ„é¡˜èˆ‡åˆ†çµ„</h2>
        <div class="form-section checkbox-group">
            <label>è«‹é¸æ“‡è²éƒ¨æˆ–è·è²¬ (å¯è¤‡é¸) <span style="color:red">*</span></label>
            <p style="font-size: 0.85rem; color: #888;">è²éƒ¨ï¼š<br>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="ç¬¬ä¸€éƒ¨ (å¥³é«˜éŸ³)" required> ç¬¬ä¸€éƒ¨ (å¥³é«˜éŸ³)</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="ç¬¬äºŒéƒ¨ (å¥³ä½éŸ³)"> ç¬¬äºŒéƒ¨ (å¥³ä½éŸ³)</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="ç¬¬ä¸‰éƒ¨ (ç”·é«˜éŸ³)"> ç¬¬ä¸‰éƒ¨ (ç”·é«˜éŸ³)</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="ç¬¬å››éƒ¨ (ç”·ä½éŸ³)"> ç¬¬å››éƒ¨ (ç”·ä½éŸ³)</label>
            </p>
            <p style="font-size: 0.85rem; color: #888;">è¡Œæ”¿/æŠ€è¡“ï¼š<br>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="æŒ‡æ®"> æŒ‡æ®</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="å¸ç´"> å¸ç´</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="è³‡æ–™çµ„"> è³‡æ–™çµ„</label>
                <label><input type="checkbox" name="è²éƒ¨_è·è²¬" value="ç¸½å‹™çµ„"> ç¸½å‹™çµ„</label>
            </p>
        </div>

        <h2>ä¸‰ã€ ğŸ’¡ è–æ½”èˆ‡äº‹å¥‰æ¢ä»¶è‡ªç™½</h2>
        <blockquote>
            <p style="margin: 0; font-size: 1rem; color: #333;">ã€Œäººè‹¥è‡ªæ½”ï¼Œè„«é›¢å‘è³¤çš„äº‹ï¼Œå°±å¿…ä½œè²´é‡çš„å™¨çš¿ï¼Œæˆç‚ºè–æ½”ï¼Œåˆä¹ä¸»ç”¨ï¼Œé å‚™è¡Œå„æ¨£çš„å–„äº‹ã€‚ã€</p>
            <p style="margin: 5px 0 0; text-align: right; font-size: 0.85rem; color: #666;">â€” ææ‘©å¤ªå¾Œæ›¸ 2:21</p>
        </blockquote>
        
        <div class="commitment-section">
            <p style="color: #c62828; margin-bottom: 15px; font-weight: bold;">ã€é„­é‡æ‰¿è«¾ã€‘ç”³è«‹äººç°½åè¦–åŒå°ä»¥ä¸‹æ‰€æœ‰è–å·¥æ¢ä»¶ï¼Œé¡˜æ„åœ¨è–æ¨‚äº‹å¥‰ä¸­éµå®ˆã€‚</p>
            <ol>
                <li>æˆ‘å·²å—æ´—æ­¸ä¸»ï¼Œç¢ºä¿¡ç‚ºæœ¬æœƒä¿¡å¾’ã€‚</li>
                <li>æˆ‘é¡˜åœ¨ä¸»å…§ä¿å®ˆè–æ½”ç”Ÿæ´»ï¼Œä½¿æˆ‘åˆä¹ä¸»ç”¨ï¼Œå¾—ç¥åŒå·¥ã€‚</li>
                <li>æˆ‘åƒèˆ‡è©©ç­æ˜¯ç‚ºæ­Œé Œç¥ï¼Œè€Œéè¡¨ç¾è‡ªå·±ã€‚</li>
                <li>æˆ‘èƒ½å®ˆæ™‚å®ˆè¦ï¼Œé…åˆè©©ç­çš„ç·´å”±åŠäº‹å¥‰æ™‚é–“ã€‚</li>
                <li>æˆ‘çš„æœè£å„€å®¹èƒ½é…åˆæ•™æœƒè¦æ±‚ï¼Œä»¥å¤§æ–¹ã€æ•´é½Šã€æ¨¸ç´ ç‚ºåŸå‰‡ã€‚</li>
            </ol>
            <div class="signature-area">
                <label>ç”³è«‹äººå…¨åç°½ç½² <span style="color:red">*</span></label>
                <input type="text" name="ç”³è«‹äººç°½å" placeholder="è«‹åœ¨æ­¤è¼¸å…¥å…¨å" required>
            </div>
        </div>

        <div class="button-group">
            <button type="submit" class="submit-btn" id="submit-button">æäº¤è–æ¨‚äº‹å¥‰ç”³è«‹</button>
        </div>
        <div id="form-message"></div>
    </form>
</div>

<script>
    // è‡ªå‹•å¡«å…¥ä»Šæ—¥æ—¥æœŸ
    document.getElementById('applicationDate').value = new Date().toLocaleDateString('zh-TW', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/\//g, '-');

    // !!! è«‹å‹™å¿…æ›¿æ›ç‚ºæ‚¨éƒ¨ç½²å¾Œç²å¾—çš„ Google Web App ç¶²å€ !!!
    const SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL'; 

    const form = document.getElementById('choir-application-form');
    const formMessage = document.getElementById('form-message');
    const submitButton = document.getElementById('submit-button');

    // è™•ç†è¤‡é¸æ¡†ï¼šç¢ºä¿è‡³å°‘å‹¾é¸ä¸€å€‹è²éƒ¨æˆ–è·è²¬
    const checkboxes = form.querySelectorAll('input[name="è²éƒ¨_è·è²¬"]');
    checkboxes.forEach(cb => {
        cb.addEventListener('change', () => {
            const checked = Array.from(checkboxes).some(c => c.checked);
            checkboxes[0].required = !checked;
        });
    });

    // æäº¤è¡¨å–®è‡³ Google Sheets
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        submitButton.disabled = true;
        submitButton.textContent = 'è³‡æ–™å‚³è¼¸ä¸­...';
        formMessage.style.display = 'none';

        const formData = new FormData(form);
        const data = {};
        for (let [key, value] of formData.entries()) {
            if (key === 'è²éƒ¨_è·è²¬') {
                if (!data[key]) data[key] = [];
                data[key].push(value);
            } else {
                data[key] = value;
            }
        }
        if (data['è²éƒ¨_è·è²¬']) data['è²éƒ¨_è·è²¬'] = data['è²éƒ¨_è·è²¬'].join(', ');

        fetch(SCRIPT_URL, {
            method: 'POST',
            mode: 'no-cors', 
            body: JSON.stringify(data)
        })
        .then(() => {
            formMessage.className = 'success';
            formMessage.textContent = 'âœ… ç”³è«‹å·²æˆåŠŸæäº¤ï¼é¡˜ç¥ç¥ç¦æ‚¨çš„æœäº‹ã€‚';
            formMessage.style.display = 'block';
            form.reset();
            submitButton.textContent = 'æäº¤å®Œæˆ';
        })
        .catch(error => {
            formMessage.className = 'error';
            formMessage.textContent = 'âŒ æäº¤å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯å¾Œå†è©¦ã€‚';
            formMessage.style.display = 'block';
            submitButton.disabled = false;
            submitButton.textContent = 'é‡æ–°æäº¤';
        });
    });
</script>
</body>
</html>